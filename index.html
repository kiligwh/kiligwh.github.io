<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-bounce.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="欢迎">
<meta property="og:type" content="website">
<meta property="og:title" content="kilig&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="kilig&#39;s Blog">
<meta property="og:description" content="欢迎">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="kiligwh">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>kilig's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">kilig's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">If it is a rose,it will blossom</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="kiligwh"
      src="/images/kilig.gif">
  <p class="site-author-name" itemprop="name">kiligwh</p>
  <div class="site-description" itemprop="description">欢迎</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/13/%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/13/%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/" class="post-title-link" itemprop="url">网络性能指标</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-13 11:28:31" itemprop="dateCreated datePublished" datetime="2023-01-13T11:28:31+08:00">2023-01-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="网络性能指标"><a href="#网络性能指标" class="headerlink" title="网络性能指标"></a>网络性能指标</h1><hr>
<h2 id="速率与带宽"><a href="#速率与带宽" class="headerlink" title="速率与带宽"></a>速率与带宽</h2><p>比特（ bit）是计算机中数据量的单位，也是信息论中使用的信息量单位</p>
<p>速率即为比特率（bit rate）是计算机网络中最重要的一个性能指标</p>
<p>速率的单位是b&#x2F;s、Kb&#x2F;s 、Mb&#x2F;s、Gb&#x2F;s等</p>
<p>带宽 1Bit&#x3D;8bit</p>
<p><img src="/Image/2024101713175522.png" alt="2024101713175522"></p>
<blockquote>
<p>常用的速率单位</p>
</blockquote>
<p><img src="/Image%5C11-Chinese%5C2024101713175526.png" alt="image-20220106103949639"></p>
<h2 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h2><p>吞吐量（throughput）表示在单位时间内通过某个网络（或信道、接口）的数据量</p>
<p>吞吐量受网络的带宽或网络的额定速率的限制</p>
<h2 id="总时延"><a href="#总时延" class="headerlink" title="总时延"></a>总时延</h2><p>数据经历的总时延就是发送时延、传输时延、处理时延和队列时延的总和</p>
<p><img src="/Image%5C11-Chinese%5C2024101713175638.png" alt="image-20220106104331468"></p>
<h2 id="丢包率及抖动"><a href="#丢包率及抖动" class="headerlink" title="丢包率及抖动"></a>丢包率及抖动</h2><blockquote>
<p>丢包率</p>
</blockquote>
<p>报文在传递过程中因为各种原因导致的丢包率</p>
<blockquote>
<p>抖动</p>
</blockquote>
<p>报文传递延迟发送的变化</p>
<p><img src="/Image%5C11-Chinese%5C2024101713175650.png" alt="image-20220106104753988"></p>
<h2 id="新建、并发"><a href="#新建、并发" class="headerlink" title="新建、并发"></a>新建、并发</h2><blockquote>
<p>四层</p>
</blockquote>
<p>新建（TCP SYN，看CPU）、并发（看内存）</p>
<blockquote>
<p>七层</p>
</blockquote>
<p>新建（ http&#x2F;tcp 更看CPU）、并发（看内存）</p>
<p><img src="/Image%5C11-Chinese%5C2024101713175662.png" alt="image-20220106105210199"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/11/TCPIP%E5%8D%8F%E8%AE%AE%E7%B0%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/11/TCPIP%E5%8D%8F%E8%AE%AE%E7%B0%87/" class="post-title-link" itemprop="url">TCP/IP协议簇</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-11 10:47:59" itemprop="dateCreated datePublished" datetime="2023-01-11T10:47:59+08:00">2023-01-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="TCP-x2F-IP协议簇"><a href="#TCP-x2F-IP协议簇" class="headerlink" title="TCP&#x2F;IP协议簇"></a>TCP&#x2F;IP协议簇</h1><hr>
<h1 id="OSI七层模型"><a href="#OSI七层模型" class="headerlink" title="OSI七层模型"></a>OSI七层模型</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>OSI模式是一个来描述通信系统的七层模型</p>
<p>OSI模型是一个分层框架，目的是能够设计出让各类计算机系统都能互相通信的网络系统。每一层都定义了信息通过网络传输的完整过程的一部分，每一层都有独立的分工，但是各层之间又是相互联系的，处于一台机器上的每一层都要调用紧挨的下一层服务</p>
<p>层之间存在一个接口，确保了数据能逐层向下传输，又能逐层向上交付，每一层都有一个字段去定义上一层提供了什么服务，。定义清晰的接口和功能可以使得网络模块化</p>
<p>封装是OSI模型数据通信的一个特点，上层的数据会封装到下一层中，以此类推</p>
<h2 id="七层模型及功能介绍"><a href="#七层模型及功能介绍" class="headerlink" title="七层模型及功能介绍"></a>七层模型及功能介绍</h2><table>
<thead>
<tr>
<th>七层</th>
<th>功能</th>
<th>常用协议</th>
</tr>
</thead>
<tbody><tr>
<td>应用层</td>
<td>为应用程序提供服务</td>
<td>FTP、HTTP、SMTP、TFTP</td>
</tr>
<tr>
<td>表示层</td>
<td>数据格式转化、数据加密</td>
<td>Telnet、SNMP</td>
</tr>
<tr>
<td>会话层</td>
<td>建立、管理和维护会话</td>
<td>DNS</td>
</tr>
<tr>
<td>传输层</td>
<td>建立、管理和维护端到端的连接</td>
<td>TCP、UDP</td>
</tr>
<tr>
<td>网络层</td>
<td>IP选址及路由选择</td>
<td>IP、ICMP、ARP</td>
</tr>
<tr>
<td>数据链路层</td>
<td>提供介质访问和链路管理</td>
<td>FDDI、Ethernet、HDLC协议</td>
</tr>
<tr>
<td>物理层</td>
<td>传输比特流、定义物理设备标准</td>
<td></td>
</tr>
</tbody></table>
<h2 id="数据传输过程"><a href="#数据传输过程" class="headerlink" title="数据传输过程"></a>数据传输过程</h2><p>pc-a 向pc-b的过程</p>
<p><img src="/Image%5CTCPIP9-Chinese%5C2024101713175140.png" alt="image-20220106144857345"></p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>1、上三层协议是为用户提供服务；下四层负责实际数据传输</p>
<p>2、传输单元 传输层（数据段 报文）、网络层（数据包 报文分组）、数据链路层（数据帧）、物理层（比特 位）</p>
<p>3、越上层越智能，可以识别当前层以下的数据；越下层越傻瓜，贴近硬件</p>
<p>4、数据传输时数据从上层向下层传输，接收时数据从下层向上层传输</p>
<p>5、数据不能跨区传输，每层之间通过逻辑的接口传递</p>
<p>6、物理层负责实际数据传输，其它层只是逻辑应对</p>
<h1 id="TCP-x2F-IP协议簇-1"><a href="#TCP-x2F-IP协议簇-1" class="headerlink" title="TCP&#x2F;IP协议簇"></a>TCP&#x2F;IP协议簇</h1><h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p><img src="/Image%5CTCPIP9-Chinese%5C2024101713175260.png" alt="image-20220106150022933"></p>
<h2 id="TCP-x2F-IP四层模型"><a href="#TCP-x2F-IP四层模型" class="headerlink" title="TCP&#x2F;IP四层模型"></a>TCP&#x2F;IP四层模型</h2><p>TCP&#x2F;IP协议簇是一个四层协议系统，自底向上为数据链路层、网络层、传输层、应用层。</p>
<p>每一层完成不同的功能，且通过若干协议来实现，上层协议使用下层协议提供的服务</p>
<blockquote>
<p>TCP&#x2F;IP四层模型、作用以及对应的网络协议</p>
</blockquote>
<table>
<thead>
<tr>
<th>四层模型</th>
<th>作用</th>
<th>网络协议</th>
</tr>
</thead>
<tbody><tr>
<td>应用层</td>
<td>负责处理应用程序的逻辑</td>
<td>HTTP、FTP、TFTP、SMTP、Telnet、DNS、SNMP、…</td>
</tr>
<tr>
<td>传输层</td>
<td>提供不具体网络的高效、经济、透明的端到端数据传输服务</td>
<td>TCP、UDP</td>
</tr>
<tr>
<td>网络层</td>
<td>将数据分成一定长度的分组，将分组穿过通信子网，从信源选择路径后传到信宿</td>
<td>IP、ICMP、ARP、RARP</td>
</tr>
<tr>
<td>数据链路层</td>
<td>将数据分成一个个数据帧，以数据帧为单位传输；有应有答，遇错重发</td>
<td>FDDI、IEEE820x</td>
</tr>
</tbody></table>
<h2 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h2><p>负责在两个相邻结点间的线路上，无差错地传送以帧为单位的数据，并进行流量控制，每一帧包括一定数量的数据和一些必要的控制信息</p>
<p>与物理层相似，数据链路层要负责建立、维持和释放数据链路的连接。在传送数据时，如果接收点检测到所传数据中有差错，就要通知发方重发这一帧</p>
<p>该层通常又被分为 介质访问控制(MAC)和逻辑链路控制(LLC)两个子层：</p>
<ul>
<li>MAC子层的主要任务是解决共享型网络中多用户对信道竞争的问题，完成网络介质的访问控制</li>
<li>LLC子层的主要任务是建立和维护网络连接，执行差错校验、流量控制和链路控制</li>
</ul>
<h2 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h2><p>为传输层实体提供端到端的交换网络数据传送功能，使得传输层摆脱路由选择、交换方式、拥挤控制等网络传输细节；可以为传输层实体建立、维持和拆除一条或多条通信路径；对网络传输中发生的不可恢复的差错予以报告</p>
<p>网络层将数据链路层提供的帧组成数据包，包中封装有网络层包头，其中含有逻辑地址信息——源站点和目的站点地址的网络地址</p>
<p><strong>一般的，数据链路层是解决统一网络内节点之间的通信，而网络层主要解决不同子网之间的通信。例如路由选择问题</strong></p>
<p>在实现网络层功能时，需要解决的主要问题如下：</p>
<blockquote>
<p>寻址</p>
</blockquote>
<p>数据链路层中使用的物理地址（如MAC地址）仅解决网络内部的寻址问题。在不同子网之间通信时，为了识别和找到网络中的设备，每一子网中的设备都会被分配一 个唯一的地址。由于各个子网使用的物理技术可能不同，因此这个地址应当是逻辑地址（如IP地址）</p>
<blockquote>
<p>交换</p>
</blockquote>
<p>规定不同的交换方式。常见的交换技术有：线路交换技术和存储转发技术，后者包括报文转发技术和分组转发技术</p>
<blockquote>
<p>路由算法</p>
</blockquote>
<p>当源节点和路由节点之间存在多条路径时，本层可以根据路由算法，通过网络为数据分组选择最佳路径，并将信息从最合适的路径，由发送端传送的接受端。</p>
<blockquote>
<p>连接服务</p>
</blockquote>
<p>与数据链路层的流量控制不同的是，前者控制的是网络相邻节点间的流量，后者控制的是从源节点到目的节点间的流量。其目的在于防止阻塞，并进行差错检测</p>
<h2 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h2><p>为会话层实体提供透明、可靠的数据传输服务，保证端到端的数据完整性；</p>
<p>选择网络层的最适宜的服务；</p>
<p>提供建立、维护和拆除传输连接功能</p>
<p>传输层根据通信子网的特性，最佳的利用网络资源，为两个端系统的会话层之间提供建立、维护和取消传输连接的功能，并以可靠和经济的方式传输数据。</p>
<p>在这一层，信息的传送单位是报文</p>
<blockquote>
<p>主要任务</p>
</blockquote>
<p>向用户提供可靠的、端到端的差错和流量控制，保证报文的正确传输</p>
<blockquote>
<p>主要作用</p>
</blockquote>
<p>向高层屏蔽下层数据通信的具体细节，即向用户透明的传送报文</p>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><p>提供用户服务，即确定进程之间通信的性质，以满足用户需要以及提供网络与用户应用软件之间的接口服务</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/09/TCP%E4%B8%8EUDP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/09/TCP%E4%B8%8EUDP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">TCP与UDP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-09 17:27:23" itemprop="dateCreated datePublished" datetime="2023-01-09T17:27:23+08:00">2023-01-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="TCP与UDP协议"><a href="#TCP与UDP协议" class="headerlink" title="TCP与UDP协议"></a>TCP与UDP协议</h1><hr>
<h1 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>TCP（Transmission Control Protocol 传输控制协议） 是一种面向连接的、可靠的、基于字节流的传输层通信协议</p>
<p>由 IETF 的RFC 793定义,TCP 是面向连接的、可靠的流协议</p>
<h2 id="报文结构"><a href="#报文结构" class="headerlink" title="报文结构"></a>报文结构</h2><p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175222.png" alt="image-20220106153245390"></p>
<p>源端口：标识发送方的应用进程</p>
<p>目的端口：标识接收方的应用进程</p>
<p>序号(Seq)：保证数据传输的有序性</p>
<p>确认号(Ack)：对收到的数据进行确认</p>
<p>Flag字段（8位）</p>
<ul>
<li>ACK：确认号标志，置1表示确认号有效，表示收到对端的特定数据</li>
<li>RST：复位标志，置1表示拒绝错误和非法的数据包，复位错误的连接</li>
<li>SYN：同步序号标志，置1表示同步序号，用来建立连接</li>
<li>FIN：结束标志，置1表示连接将被断开，用于拆除连接</li>
</ul>
<p>Option字段（可选项）：MSS最大报文段长度，通过置位，协商能承载的TCP数据大小</p>
<h2 id="传输机制-三次握手"><a href="#传输机制-三次握手" class="headerlink" title="传输机制-三次握手"></a>传输机制-三次握手</h2><p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175243.png" alt="image-20220106154944982"></p>
<p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175245.png" alt="image-20220106155010392"></p>
<h2 id="传输机制-四次挥手"><a href="#传输机制-四次挥手" class="headerlink" title="传输机制-四次挥手"></a>传输机制-四次挥手</h2><p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175249.png" alt="image-20220106155432215"></p>
<p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175351.png" alt="image-20220106155444038"></p>
<h2 id="面向字节流"><a href="#面向字节流" class="headerlink" title="面向字节流"></a>面向字节流</h2><p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175355.png" alt="image-20220106160119818"></p>
<h2 id="RST标志位"><a href="#RST标志位" class="headerlink" title="RST标志位"></a>RST标志位</h2><p>关闭TCP连接的正常方法是四次挥手，但不是只有四次挥手才能关闭TCP连接</p>
<blockquote>
<p>RST 标志位作用</p>
</blockquote>
<p>用于复位因某种原因导致的错误连接，也用来拒绝非法数据和请求</p>
<p>如果接收到RST标志位的时候，通常发生了某些错误</p>
<p>RST也可能被接收方或者中间设备置位</p>
<blockquote>
<p>RST置位的原因</p>
</blockquote>
<p>服务器端口没有打开（listen）</p>
<p>服务器响应太慢，用户终止连接</p>
<p>网络攻击</p>
<p>其他</p>
<h2 id="流量控制-滑动窗口机制"><a href="#流量控制-滑动窗口机制" class="headerlink" title="流量控制-滑动窗口机制"></a>流量控制-滑动窗口机制</h2><p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175381.png" alt="image-20220106160408352"></p>
<p><strong>窗口大小决定了在收到确认前可以发送的字节数</strong></p>
<p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175385.png" alt="image-20220106160457113"></p>
<h2 id="可靠传输-停止等待协议"><a href="#可靠传输-停止等待协议" class="headerlink" title="可靠传输-停止等待协议"></a>可靠传输-停止等待协议</h2><blockquote>
<p>无差错情况</p>
</blockquote>
<p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175491.png" alt="image-20220106160642771"></p>
<blockquote>
<p>超时重传</p>
</blockquote>
<p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175495.png" alt="image-20220106160703271"></p>
<blockquote>
<p>确认丢失</p>
</blockquote>
<p><img src="/Image%5CTCPUDP10-Chinese%5C2024101713175499.png" alt="image-20220106160736620"></p>
<blockquote>
<p>确认迟到</p>
</blockquote>
<p><img src="/Image%5CTCPUDP10-Chinese%5C20241017131754103.png" alt="image-20220106160752910"></p>
<h2 id="拥塞控制"><a href="#拥塞控制" class="headerlink" title="拥塞控制"></a>拥塞控制</h2><blockquote>
<p>网络拥塞</p>
</blockquote>
<p>指的是在某段时间，若<strong>对网络中某一资源的需求超过了该资源所能提供的可用部分，网络性能就要变坏</strong></p>
<p>若<strong>出现拥塞而不进行控制</strong>，整个网络的<strong>吞吐量将随输入负荷的增大而下降</strong></p>
<blockquote>
<p>TCP的四种拥塞控制算法</p>
</blockquote>
<p>慢开始</p>
<p>拥塞控制</p>
<p>快重传</p>
<p>快恢复</p>
<blockquote>
<p>图例</p>
</blockquote>
<p><img src="/Image%5CTCPUDP10-Chinese%5C20241017131754125.png" alt="image-20220106161159940"></p>
<p><img src="/Image%5CTCPUDP10-Chinese%5C20241017131755127.png" alt="image-20220106161209252"></p>
<h1 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><p>UDP（User Datagram Protocol，用户数据报协议）一种面向无连接的传输层协议，提供面向事务的简单不可靠信息传送服务，IETE RFC 768是UDP的正式规范</p>
<p>UDP在IP报文协议的协议号是17</p>
<h2 id="报文结构-1"><a href="#报文结构-1" class="headerlink" title="报文结构"></a>报文结构</h2><p><img src="/Image%5CTCPUDP10-Chinese%5C20241017131755139.png" alt="image-20220106162459644"></p>
<h2 id="协议特点"><a href="#协议特点" class="headerlink" title="协议特点"></a>协议特点</h2><p>1、在传输数据之前，不需要进行复杂的三次握手来建立连接</p>
<p>2、在传输数据时，没有协议间通信流量（确认号），也不需要浪费不必要的处理时间（接收确认信号再发一次）</p>
<p>3、传输结束后，不再用四次挥手来结束连接</p>
<p>因为UDP协议是面向无连接的</p>
<h1 id="TCP和UDP对比总结"><a href="#TCP和UDP对比总结" class="headerlink" title="TCP和UDP对比总结"></a>TCP和UDP对比总结</h1><table>
<thead>
<tr>
<th></th>
<th>TCP</th>
<th>UDP</th>
</tr>
</thead>
<tbody><tr>
<td>可靠性</td>
<td>可靠</td>
<td>不可靠</td>
</tr>
<tr>
<td>建立连接</td>
<td>面向连接</td>
<td>无连接</td>
</tr>
<tr>
<td>报文</td>
<td>面向字节流</td>
<td>面向报文</td>
</tr>
<tr>
<td>传输方式</td>
<td>点对点</td>
<td>一对一、一对多、多对多</td>
</tr>
<tr>
<td>传输效率</td>
<td>低</td>
<td>高</td>
</tr>
<tr>
<td>流量控制</td>
<td>有（滑动窗口）</td>
<td>无</td>
</tr>
<tr>
<td>拥塞控制</td>
<td>有</td>
<td>无</td>
</tr>
<tr>
<td>应用场景</td>
<td>对传输效率要求低，对传输准确性要求高，要求有连接的场景</td>
<td>对传输效率要求高，对传输准确性要求低</td>
</tr>
</tbody></table>
<h2 id="TCP适用场景"><a href="#TCP适用场景" class="headerlink" title="TCP适用场景"></a>TCP适用场景</h2><p>当网络硬件失效或者负担太重时，数据包可能就会产生丢失、重复、延时、乱序的现象，这些都会导致我们的通信不正常</p>
<p>如果让应用程序来负担差错控制的工作，无疑将给程序员带来许多复杂的工作，于是，我们使用的通信协议来保证通信的可靠性是非常有必要的</p>
<p>TCP一般用于文件传输（FTP、HTTP对数据准确性要求高，速度可以相对慢）、发送或接收邮件（POP、SMTP对数据准确性要求高，非紧急应用）、远程登陆（Telnet、SSH对数据准确性有一定要求，有连接的概念）等等</p>
<h2 id="UDP适用场景"><a href="#UDP适用场景" class="headerlink" title="UDP适用场景"></a>UDP适用场景</h2><p>1、在高效可靠的网络环境中（不需要考虑网络通信不好导致的丢包、乱序、延时、重复等问题），因为UDP是无连接的服务，不用消耗不必要的网络资源（TCP中的协议间通信）和处理时间（预期确认需要的时间），从而效率要高得多</p>
<p>2、在轻权通信中，当需要传输的数据量很小（可以装在一个IP数据包内）时</p>
<p> UDP很适合这种客户机向服务器传送简单服务请求的环境，如这类协议包括TFTP、SNMP、DNS、DHCP等</p>
<p>3、对实时性要求很强的通信中（允许一定量的丢包率时，如赛事直播、视频等）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/09/SNMP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/09/SNMP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">SNMP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-09 09:46:55" itemprop="dateCreated datePublished" datetime="2023-01-09T09:46:55+08:00">2023-01-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="SNMP协议"><a href="#SNMP协议" class="headerlink" title="SNMP协议"></a>SNMP协议</h1><hr>
<p>随着网络技术的飞速发展，企业中的网络设备数量成几何级数增长，网络设备的种类也越来越多，这使得企业网络的管理十分繁杂</p>
<p>SNMP（Simple Network Management Protocol）可以实现对不同种类和不同厂商的网络设备进行统一管理，大大提升了网络管理的效率</p>
<p>由一组网络管理的标准组成，包含一个应用层协议（application layer protocol）、数据库模型（database schema）和一组资源对象</p>
<p>该协议能够支持网络管理系统，用以监测连接到网络上的设备是否有任何引起管理上关注的情况</p>
<p>该协议是互联网工程工作小组（IETF，Internet Engineering Task Force）定义的internet协议簇的一部分</p>
<p>SNMP的目标是管理互联网Internet上众多厂家生产的软硬件平台，因此SNMP受Internet标准网络管理框架的影响也很大</p>
<p>SNMP已经出到第三个版本的协议，其功能较以已经大大地加强和改进了</p>
<p>SNMP协议端口是UDP161，SNMP TRAP 端口是UDP162。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/08/IP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/08/IP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">IP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-08 16:10:13" itemprop="dateCreated datePublished" datetime="2023-01-08T16:10:13+08:00">2023-01-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="IP协议"><a href="#IP协议" class="headerlink" title="IP协议"></a>IP协议</h1><hr>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>IP地址唯一标识一台网络设备，由32个二进制位组成</p>
<p>IP地址分为两部分：网络部分和主机部分</p>
<p>IP地址通常采用点分十进制的格式标识。如：10.1.1.1</p>
<p><img src="/Image%5CIP7-Chinese%5C2024101713175120.png" alt="image-20220106171046769"></p>
<h2 id="私有IP地址"><a href="#私有IP地址" class="headerlink" title="私有IP地址"></a>私有IP地址</h2><blockquote>
<p>私有IP地址</p>
</blockquote>
<p>10.0.0.0 - 10.255.255.255</p>
<p>172.16.0.0 - 172.31.255.255</p>
<p>192.168.0.0. - 192.168.255.255</p>
<blockquote>
<p>保留地址</p>
</blockquote>
<p>169.254.0.0 - 169.254.255.255</p>
<p>作用：在Windows环境下，计算机无法通过DHCP自动获取地址时用于临时通信</p>
<blockquote>
<p>图例</p>
</blockquote>
<p><img src="/Image%5CIP7-Chinese%5C2024101713175140.png" alt="image-20220106171316427"></p>
<h2 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h2><p>掩码用来标识IP地址的网络部分和主机部分</p>
<p>32 bits长，网络部分为连续1，主机部分为连续0</p>
<p>一般用点分十进制表示，如：</p>
<ul>
<li>A类地址相当于掩码：255.0.0.0</li>
<li>B类地址相当于掩码：255.255.0.0</li>
<li>C类地址相当于掩码：255.255.255.0</li>
</ul>
<p><img src="/Image%5CIP7-Chinese%5C2024101713175154.png" alt="image-20220106171452974"></p>
<h2 id="网段及地址范围计算"><a href="#网段及地址范围计算" class="headerlink" title="网段及地址范围计算"></a>网段及地址范围计算</h2><p>192.168.1.7 + 255.255.255.254 &#x3D; 192.168.1.0</p>
<p><img src="/Image%5CIP7-Chinese%5C2024101713175160.png" alt="image-20220106171553635"></p>
<p>IP地址所在网段：192.168.1.0&#x2F;28</p>
<p>网段地址范围：192.168.1.0 - 192.168.1.15</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/07/ICMP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/07/ICMP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">ICMP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-07 20:35:36" itemprop="dateCreated datePublished" datetime="2023-01-07T20:35:36+08:00">2023-01-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ICMP协议"><a href="#ICMP协议" class="headerlink" title="ICMP协议"></a>ICMP协议</h1><hr>
<h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><p>在IP通信中，经常有数据包到达不了对方的情况，由于数据包被丢弃等原因，为了控制将必要的信息传递给发信方。</p>
<p>ICMP协议是为了辅助IP协议，交换各种各样的控制信息而被制造出来的</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>ICMP（Internet Control Message Protocol）是Internet控制报文协议</p>
<p>ICMP协议是一种面向无连接的协议，它是TCP&#x2F;IP协议簇的一个子协议，用于在IP主机、路由器之间传递控制信息</p>
<p>控制信息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息，这些控制消息虽然并不传输用户数据，但是对于用户数据的传递和网络安全具有极其重要的意义</p>
<h2 id="报文封装"><a href="#报文封装" class="headerlink" title="报文封装"></a>报文封装</h2><p><img src="/Image%5CICMP6-Chinese%5C2024101713175028.png" alt="image-20220106113610967"></p>
<p>ICMP报文是使用IP数据包来封装和发送的，携带ICMP报文的IP数据报完全像其他类型数据的数据报那样在网络中被转发，没有额外的可靠性和优先级，由于IP数据报本身被放在底层物理数据帧中进行发送， 故ICMP报文本身也可能丢失或者出现传输错误</p>
<h2 id="报文类型"><a href="#报文类型" class="headerlink" title="报文类型"></a>报文类型</h2><p><img src="/Image%5CICMP6-Chinese%5C2024101713175034.png" alt="image-20220106114436534"></p>
<h2 id="差错报文"><a href="#差错报文" class="headerlink" title="差错报文"></a>差错报文</h2><p>报告IP数据报在传输中的差错是ICMP报文最基础的功能</p>
<p>ICMP的差错报文有如下特点：</p>
<p>1、ICMP差错报文都是由路由器发送给源主机</p>
<p>2、ICMP差错报文只提供IP数据报在传输过程中的差错报告，但并不规定对各类差错应采取什么样的处理措施（具体的处理，由收到ICMP差错报文的源主机将相应的差错与应用程序联系起来才能进行相应的差错处理）</p>
<p>3、ICMP差错报文不享受任何优先权，也没有特别的可靠性保证措施，与普通的IP数据报一样进行传输，传输过程中可能被丢弃、损坏甚至被抛弃</p>
<p>4、ICMP差错报文是伴随着抛弃出错的IP数据报而产生的</p>
<p>5、当路由器发送一份参数错误等的ICMP差错报文时，ICMP报文数据区始终包含产生ICMP差错报文的IP数据报的头部和其数据区的前8个字节（64位）</p>
<p>6、一些情况下，为了防止在网络中产生大量的ICMP差错报文（广播风暴），影响网络的正常工作，即使发送差错，也不会产生ICMP差错报文</p>
<p>一些情况如下：</p>
<ul>
<li>ICMP报文发送差错</li>
<li>目的地址是广播地址或多播地址（D类地址）的IP数据</li>
<li>作为链路层广播的数据报</li>
<li>不是IP分片的第一片</li>
<li>源地址不是单个主机的数据报（源地址不能为零地址、回送地址、广播地址或多播地址）</li>
</ul>
<blockquote>
<p>目的站不可达</p>
</blockquote>
<p>当路由器不能给数据报找到合适的路由路径，或者主机不能将数据报递交给上层协议时，相应的IP数据报就会被丢弃，然后一个目的站不可达差错控制报文将会被返回给源主机</p>
<blockquote>
<p>数据报超时</p>
</blockquote>
<p>数据报超时可以用来防止数据报在网络中被循环的路由，在IP首部中都有一个生存时间（TTL）字段，数据报每被转发一次，TTL的值便会减1，当TTL的值被减为0时，数据报会被网络丢弃，同时一个ICMP数据报超时报文会被返回给源主机</p>
<blockquote>
<p>源站抑制</p>
</blockquote>
<p>ICMP源站抑制报文就是为了给IP协议增加一种流量控制而设计的，当路由器或主机因拥塞而丢弃数据报时，它可以向源站发送ICMP源站抑制报文</p>
<p>这个报文将告诉源站两个信息：</p>
<ul>
<li>第一，你的数据报发得太快，我已经丢弃了；</li>
<li>第二，路径中出现了拥塞，请放慢你的数据报发送频率；</li>
</ul>
<blockquote>
<p>重定向（路由）</p>
</blockquote>
<p>当路由器要将数据报转发到另一个网络时，它必须知道下一个路由器的IP地址，源主机也是这样，当一台主机刚开始运行时，它会将所有数据报发送给网络中的一个默认路由器，因为它只知道默认路由器这一个IP地址</p>
<blockquote>
<p>数据报参数错误</p>
</blockquote>
<p>数据报在网络中传输时，其首部中出现的任何二义性都可能会产生严重的问题，如果路由器或主机发现了这种二义性，或者数据报中的某个字段丢失，路由器会直接丢弃数据报，并向源主机返回一个数据报参数错误报文</p>
<h2 id="查询报文"><a href="#查询报文" class="headerlink" title="查询报文"></a>查询报文</h2><blockquote>
<p>概述</p>
</blockquote>
<p>常见的ICMP查询报文有以下几种：回送请求或回答、时间戳请求或回答、路由器询问和通告、信息请求或回答、地址掩码请求或回答</p>
<blockquote>
<p>回送请求或回答</p>
</blockquote>
<p>回送请求和回送回答报文是为诊断网络而设计的，我们使用这对报文来发现网络的问题，回送请求和回送回答报文组合起来就可以确定两个网络设备之间彼此是否能够通信</p>
<p>回收请求和回送回答报文可以直接确定两台主机的IP协议是否能够正常通信，这是因为ICMP报文是被封装在IP数据报中发送的，发送请求的主机能收到回答报文，证明两台主机之间能够使用IP协议进行通信，同时也能证明源主机与目的主机之间的所有路由器的接收、处理、转发功能正常</p>
<p><img src="/Image%5CICMP6-Chinese%5C2024101713175099.png" alt="image-20220106125257238"></p>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><blockquote>
<p>Ping</p>
</blockquote>
<p>Ping主要原来检测网络的连通性，同时也要收集其他相关信息</p>
<p><strong>原理</strong></p>
<p>ping通过调用echo来发送请求，通过是否收到echo-reply来查询网络层的连通性</p>
<p>ping的结果会给出传送的时间和TTL的数据，还可以查看主机到目的主机的路由</p>
<p>这是因为ICMP的Ping请求数据报在每经过一个路由器的时候，路由器就会把自己的IP地址放到该数据包中，而目的主机则会把这个IP列表复制到ICMP数据包中发回给主机</p>
<blockquote>
<p>tracert</p>
</blockquote>
<p>tracert主要用来侦测主机到目的主机所经路由情况的工具，可以获取到所经路由器的IP地址</p>
<p><strong>原理</strong></p>
<p>它收到目的主机的IP后，首先给目的主机发送一个TTL&#x3D;1的UDP数据包，而经过的第一个路由器收到这个数据包以后，就自动将TTL减1.而TTL变为0以后，路由器就把这个包给抛弃了，并同时产生一个主机不可达的ICMP数据包给主机。</p>
<p>主机收到这个数据包以后就发送一个TTL&#x3D;2的数据包给主机，然后刺激第二个路由器给主机发送ICMP数据包，如此反复直到到达目的主机</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/06/HTTP%E4%B8%8EHTTPS%20%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/06/HTTP%E4%B8%8EHTTPS%20%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">HTTP与HTTPS 协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-06 15:14:55" itemprop="dateCreated datePublished" datetime="2023-01-06T15:14:55+08:00">2023-01-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="HTTP与HTTPS-协议"><a href="#HTTP与HTTPS-协议" class="headerlink" title="HTTP与HTTPS 协议"></a>HTTP与HTTPS 协议</h1><hr>
<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><p>HTTP是一种网络协议，所有的html文件都是遵循这个标准进行传输的</p>
<p>HTTP的出现是为了提供一种发布和接收HTML页面的方法</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>HTTP（Hypertext Transfer Protocol，超文本传输协议），是一种分布式、合作式多媒体系统服务，面向应用层的协议，是Internet中目前使用最广泛的应用层协议</p>
<p>HTTP协议是基于传输层的TCP协议进行通信，通用无状态的协议</p>
<h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><p>URL即统一资源定位符(Uniform Resource Locator)，用来唯一地标识万维网中的某一个文档</p>
<p>URL由协议、主机和端口(默认为80)以及文件名三部分构成</p>
<p><img src="/Image%5CHTTPHTTPS5-Chinese%5C2024101713174832.png" alt="image-20220105162750434"></p>
<h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>用于在服务器和客户机之间传输超文本文件</p>
<p><img src="/Image%5CHTTPHTTPS5-Chinese%5C2024101713174838.png" alt="image-20220105162908590"></p>
<h2 id="请求-x2F-响应交互模型"><a href="#请求-x2F-响应交互模型" class="headerlink" title="请求&#x2F;响应交互模型"></a>请求&#x2F;响应交互模型</h2><p>在用户点击URL为<a target="_blank" rel="noopener" href="http://www.qq.com/index.html%E7%9A%84%E9%93%BE%E6%8E%A5%E5%90%8E%EF%BC%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8CWeb%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%8A%A8%E4%BD%9C">http://www.qq.com/index.html的链接后，浏览器和Web服务器执行以下动作</a></p>
<p>1、浏览器分析超链接中的URL</p>
<p>2、浏览器向DNS请求解析<a target="_blank" rel="noopener" href="http://www.qq.com的ip地址/">www.qq.com的IP地址</a></p>
<p>3、DNS将解析出的IP地址返回给浏览器</p>
<p>4、浏览器与服务器建立TCP连接（80端口）</p>
<p>5、浏览器请求文档 ：GET &#x2F;index.html</p>
<p>6、服务器给出响应，将文档 index.html发送给浏览器</p>
<p>7、释放TCP连接</p>
<p>8、浏览器显示index.html中的内容</p>
<p><img src="/Image%5CHTTPHTTPS5-Chinese%5C2024101713174960.png" alt="image-20220105163259369"></p>
<h2 id="连接方式与无状态性"><a href="#连接方式与无状态性" class="headerlink" title="连接方式与无状态性"></a>连接方式与无状态性</h2><blockquote>
<p>非持久性连接</p>
</blockquote>
<p>即浏览器每请求一个web文档，就创建一个新的连接，当文档传输完毕后，连接就立刻被释放</p>
<blockquote>
<p>持久性连接</p>
</blockquote>
<p>即在一个连接中，可以进行多次文档的请求和响应</p>
<p><img src="/Image%5CHTTPHTTPS5-Chinese%5C2024101713174972.png" alt="image-20220105163604436"></p>
<blockquote>
<p>无状态性</p>
</blockquote>
<p>指同一个客户端（浏览器）第二次访问同一个Web服务器上的页面时，服务器无法知道当前用户曾经访问过</p>
<p>HTTP的无状态性简化了服务器的设计，使其更容易支持大量并发的HTTP请求</p>
<h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><h2 id="需求背景-1"><a href="#需求背景-1" class="headerlink" title="需求背景"></a>需求背景</h2><p>随着网络通信的电子商务等服务和资源进入人们的生活，人们在享受网络带来的便利的同时，面临着各种各样的安全隐患</p>
<p>传统的很多网站都是基于HTTP协议的</p>
<p>HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全</p>
<p>为了保证这些隐私数据能加密传输，于是设计了SSL(Secure Sockets Layer)协议用于对HTTP协议传输的数据进行加密，从而就诞生了HTTPS</p>
<h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><p>HTTPS（Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的HTTP通道，即是在HTTP的基础之上加入了SSL层，因此加密的详细内容就需要SSL</p>
<h2 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h2><p>HTTPS存在不同于HTTP的默认端口及一个加密&#x2F;身份验证层(在HTTP与TCP之间)，这个系统提供了身份验证与加密通讯方法，现在它被广泛用于万维网上安全敏感的通讯，例如交易支付方面</p>
<p>HTTP协议采用明文传输信息，存在信息窃听、信息篡改和信息劫持的风险，而协议TLS&#x2F;SSL具有身份验证、信息加密和完整性校验的功能，可以避免此类问题，故我们可以简单的认为HTTPS就是使用TLS&#x2F;SSL加密的HTTP协议</p>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><p>HTTPS在传输数据。握手过程的简单描述：</p>
<p>1、浏览器将自己支持的一套加密规则发送给网站</p>
<p>2、网站从中选出一组加密算法与HASH算法，并将自己的身份信息以证书的形式发回给浏览器。证书里面包含了网站地址，加密公钥，以及证书的颁发机构等信息</p>
<p>3、获得网站证书之后浏览器要做以下工作：</p>
<ul>
<li>验证证书的合法性</li>
<li>生成一串随机数的密码，并用证书中提供的公钥加密</li>
<li>使用约定好的HASH计算握手消息，并使用生成的随机数对消息进行加密，最后将之前生成的所有信息发送给网站</li>
</ul>
<p>4、网站接收浏览器发来的数据之后要做以下的操作：</p>
<ul>
<li>使用自己的私钥将信息解密取出密码，使用密码解密浏览器发来的握手消息，并验证HASH是否与浏览器发来的一致</li>
<li>使用密码加密一段握手消息，发送给浏览器</li>
</ul>
<p>5、浏览器解密并计算握手消息的HASH，如果与服务端发来的HASH一致，此时握手过程结束，之后所有的通信数据将由之前浏览器生成的随机密码并利用对称加密算法进行加密</p>
<h2 id="HTTPS架构"><a href="#HTTPS架构" class="headerlink" title="HTTPS架构"></a>HTTPS架构</h2><p><img src="/Image%5CHTTPHTTPS5-Chinese%5C20241017131749125.png" alt="image-20220105165129153"></p>
<h1 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><p>SSL(Secure Socket Layer，安全套接字层)，位于可靠的面向连接的网络层协议和应用层协议之间的一种协议层</p>
<p>SSL通过互相认证、使用数字签名确保完整性、使用加密确保私密性，以实现客户端和服务器之间的安全通讯</p>
<p>该协议由两层组成：SSL记录协议和SSL握手协议</p>
<h2 id="功能-2"><a href="#功能-2" class="headerlink" title="功能"></a>功能</h2><p>保证传输数据的 保密性</p>
<p>保证传输数据的 完整性</p>
<p>实现通信双方的互相 身份认证</p>
<p><img src="/Image%5CHTTPHTTPS5-Chinese%5C20241017131749145.png" alt="image-20220105165237758"></p>
<h2 id="SSL加密"><a href="#SSL加密" class="headerlink" title="SSL加密"></a>SSL加密</h2><p>密码：对文本进行编码</p>
<p>密钥：改变密码行为的数字化参数</p>
<p>对称密钥加密系统：编 &#x2F; 解码使用相同密钥的算法</p>
<p>非对称密钥加密系统：编 &#x2F; 解码使用不同密钥的算法</p>
<p>数字签名：用来验证报文未被伪造或篡改的校验和</p>
<p>数字证书：由一个可信的组织验证和签发的识别信息</p>
<h2 id="SSL握手"><a href="#SSL握手" class="headerlink" title="SSL握手"></a>SSL握手</h2><p><img src="/Image%5CHTTPHTTPS5-Chinese%5C20241017131749163.png" alt="image-20220105165344320"></p>
<h1 id="HTTP与HTTPS的区别"><a href="#HTTP与HTTPS的区别" class="headerlink" title="HTTP与HTTPS的区别"></a>HTTP与HTTPS的区别</h1><p>1、https协议需要到ca申请证书，一般免费证书很少，需要交费</p>
<p>2、http是超文本传输协议，信息是明文传输的；https则是具有安全性的ssl加密传输协议</p>
<p>3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443</p>
<p>4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全</p>
<p><img src="/Image%5CHTTPHTTPS5-Chinese%5C20241017131750175.png" alt="image-20220105165105787"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/05/FTP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/05/FTP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">FTP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-05 19:24:16" itemprop="dateCreated datePublished" datetime="2023-01-05T19:24:16+08:00">2023-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="FTP协议"><a href="#FTP协议" class="headerlink" title="FTP协议"></a>FTP协议</h1><hr>
<h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><p>为了提高文件的共享性，在本机主机和远程主机之间高效传输数据</p>
<p>FTP协议被广泛使用在互联网上的文件传输</p>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><p>FTP是采用 基于TCP的客户端&#x2F;服务器模式</p>
<p>FTP采用双TCP连接方式：控制连接使用TCP的21端口，数据连接使用TCP的20端口</p>
<p>两种文件传输模式：ASCII模式、二进制流模式</p>
<p>两种数据传输方式：主动方式、被动方式</p>
<h2 id="主动方式"><a href="#主动方式" class="headerlink" title="主动方式"></a>主动方式</h2><p>在建立数据连接的过程中，由服务器主动发起的连接，称为主动方式</p>
<p>主动方式也称为PROT方式，是FTP协议最初定义的数据传输连接方式</p>
<blockquote>
<p>主要特点</p>
</blockquote>
<p>FTP客户端通过向FTP服务器发送PORT命令，告诉服务器该客户端用户传输数据的临时端口号</p>
<p>当需要传送数据时，服务器通过TCP端口号20与客户端的临时端口建立数据传输通道，完成数据传输</p>
<h2 id="被动方式"><a href="#被动方式" class="headerlink" title="被动方式"></a>被动方式</h2><p>在整个过程中，由于服务器总是被动接收客户端的数据连接，称为被动方式</p>
<p>被动方式也称之为PASV方式</p>
<blockquote>
<p>主要特点</p>
</blockquote>
<p>FTP客户端通过向FTP服务器发送PASV命令，告诉服务器进入被动方式，服务器选择临时端口号并告知客户端</p>
<p>当需要传送数据时，客户端主动与服务器的临时端口号建立数据传输通道，完成数据传输</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/04/DNS%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/04/DNS%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">DNS协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-04 10:43:21" itemprop="dateCreated datePublished" datetime="2023-01-04T10:43:21+08:00">2023-01-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="DNS协议"><a href="#DNS协议" class="headerlink" title="DNS协议"></a>DNS协议</h1><hr>
<h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><blockquote>
<p>DNS产生过程</p>
</blockquote>
<p><img src="/Image%5CDNS3-Chinese%5C2024101713174716.png" alt="null"></p>
<p>由于记IP地址去访问网站，考验太大！</p>
<h2 id="DNS概述"><a href="#DNS概述" class="headerlink" title="DNS概述"></a>DNS概述</h2><p>DNS（Domain Name System，域名系统）是互联网的一项服务，将域名和IP地址相互映射的一个分布式数据库，能够使 用户更加方便的访问网站。</p>
<p>用户可以直接输入域名登陆网站，DNS会将域名解析成IP地址，然后用户根据这个IP地址找到相应的网站，从而访问到域名对应的网站</p>
<blockquote>
<p>域名解析</p>
</blockquote>
<p>通过主机名获取到主机名对应IP地址的过程</p>
<blockquote>
<p>端口</p>
</blockquote>
<p>DNS协议建立在UDP协议之上，在某些情况下可以切换为TCP，使用端口号为53</p>
<p>是一种客户端&#x2F;服务器端模式（C&#x2F;S 模式）</p>
<blockquote>
<p>域</p>
</blockquote>
<p>域是一个逻辑上的概念，在初始瓜分互联网的时候，Internet组织将世界上的计算机划分为了若干个大类，如com、gov、org、net、edu、cn、us等等</p>
<p>每一个大类我们称之为一个域</p>
<p>在每个大类里面划分出比较小一点的，称为子域，域是可以嵌套的，大域包含小域，小域可以包含更小的域</p>
<blockquote>
<p>域名</p>
</blockquote>
<p>在每个域里面都有很多主机，每个主机都有一个主机名，我们在这个主机名后面冠上主机所在域的名称成为该主机在Internet网络上的域名</p>
<blockquote>
<p>域名结构</p>
</blockquote>
<p>域名是一个树状层次结果，联机分布式数据库，最高的根域名服务器维护最高级别域名服务器记录，后者维护下一级域名服务器的记录</p>
<p><img src="/Image%5CDNS3-Chinese%5C2024101713174752.png" alt="image-20220105142238437"></p>
<blockquote>
<p>域名服务器</p>
</blockquote>
<p>域名服务器：负责名字到地址的解析</p>
<p>域名服务器程序在专设的结点上运行，运行该程序的机器称为域名服务器</p>
<p>根据域名结果可以把域名服务器划分为以下四种：</p>
<p>根域名服务器、顶级域名服务器、权威域名服务器、本地域名服务器</p>
<p><img src="/Image%5CDNS3-Chinese%5C2024101713174764.png" alt="image-20220105142652167"></p>
<blockquote>
<p>DNS服务器管理区域</p>
</blockquote>
<p>每一台 DNS 服务器都只负责管理一个有限范围（一个或几个域）内的主机域名和 IP 地址的对应关系，这些特定的 DNS 域或 IP 地址段称为 zone（区域）</p>
<p>如果根据DNS服务器管理的区域地址数据的来源不同，DNS 系统可以分为不同的类型。在同一台 DNS服务器中，相对于不同的区域来说，也拥有不同的身份。常见的几种类型如下：</p>
<p>主域名服务器：维护某一个特定 DNS 区域的地址数据库，对其中的解析记录具有自主控制权，是指定区域中唯一存在的权威服务器、官方服务器</p>
<p>从域名服务器：</p>
<ul>
<li>与主域名服务器提供完全相同的 DNS 解析服务，通常用于 DNS 服务器的热备份</li>
<li>对于客户机来说，无论使用主域名服务器还是从域名服务器，查询的结果都一样的</li>
<li>关键区别在于，从域名服务器提供的解析结果不是由自己决定的， 而是来自于主域名服务器</li>
<li>构建从域名服务器时，需要指定主域名服务器的位置， 以便服务器能自动同步区域的地址数据库</li>
</ul>
<p>缓存域名服务器：</p>
<ul>
<li>只提供域名解析结果的缓存功能，目的在于提高查询速度和效率，但是没有自己控制的区域地址数据</li>
<li>构建缓存域名服务器时，必须设置根域或指定其他 DNS 服务器作为解析来源</li>
</ul>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><p>DNS查询以各种不同的方式进行解析，客户机可通过使用以前查询获得的缓存信息就地应答查询，DNS服务器也可使用其自身的资源记录信息缓存来应答查询</p>
<p>但以下两种方式更为普遍</p>
<blockquote>
<p>递归解析</p>
</blockquote>
<p>DNS服务器收到一个域名解析请求时，如果所要检索的资源记录不在本地，DNS服务器将和自己的上一层服务器交互，获得最终的答案，并将其返回给客户</p>
<blockquote>
<p>迭代解析</p>
</blockquote>
<p>DNS服务器收到解析请求，首先在本地的数据库中查找是否有相应的资源记录，如果没有，则向客户提供另外一个DNS服务器的地址，客户负责把解析请求发送给新的DNS服务器地址</p>
<blockquote>
<p>DNS域名解析的过程图示</p>
</blockquote>
<p><img src="/Image%5CDNS3-Chinese%5C20241017131747102.png" alt="image-20220105144455039"></p>
<blockquote>
<p>DNS查询过程</p>
</blockquote>
<p><img src="/Image%5CDNS3-Chinese%5C20241017131747106.png" alt="image-20220105144607615"></p>
<blockquote>
<p>DNS工作原理示例</p>
</blockquote>
<p><img src="/Image%5CDNS3-Chinese%5C20241017131748110.png" alt="image-20220105144844786"></p>
<p>1、当在浏览器中输入URL时，浏览器会先检查自己的缓存是否有域名IP的映射关系，有则直接使用IP进行通信；</p>
<p>2、如浏览器没有缓存，则操作系统检查本地Hosts文件是否有域名IP的映射关系，有则使用IP进行通信；</p>
<p>3、如果hosts没有这个域名的映射，则查找本地DNS解析器缓存是否有映射关系，有则直接返回完成域名解析；</p>
<p>4、如果还未找到映射关系，首先会找TCP&#x2F;IP参数中设置的首选DNS服务器，也就是常称的本地DNS服务器，如果服务器已缓存了映射关系，则使用这个IP地址映射返回完成域名解析，此时解析不具有权威性；</p>
<p>5、如果本地DNS服务器缓存已经失效，进行递归查询</p>
<h2 id="DNS解析记录类型"><a href="#DNS解析记录类型" class="headerlink" title="DNS解析记录类型"></a>DNS解析记录类型</h2><p>域名和IP之间的对应关系，称为记录</p>
<p>根据记录使用的目的不同，又分为不同的类型</p>
<p>常见DNS记录类型有：</p>
<blockquote>
<p>SOA</p>
</blockquote>
<p>Start Of Authority，起始授权记录；一个区域解析库有且仅能有一个SOA记录，而必须为解析库的第一条记录</p>
<blockquote>
<p>A</p>
</blockquote>
<p>地址记录（Address），返回域名指向的IP地址</p>
<blockquote>
<p>NS</p>
</blockquote>
<p>域名服务器记录（Name Server），返回保存下一级域名信息的服务器地址。该记录只能设置为域名，不能设置为IP地址</p>
<blockquote>
<p>MX</p>
</blockquote>
<p>邮件记录（Mail eXchange），返回接收电子邮件的服务器地址</p>
<blockquote>
<p>CNAME</p>
</blockquote>
<p>规范名称记录（Canonical Name），返回另一个域名，即当前查询的域名是另一个域名的跳转</p>
<blockquote>
<p>PTR</p>
</blockquote>
<p>逆向查询记录（Pointer Record），只用于从IP地址查询域名</p>
<h2 id="资源记录"><a href="#资源记录" class="headerlink" title="资源记录"></a>资源记录</h2><p>记录一条域名信息映射关系，称之为资源记录（PR）</p>
<blockquote>
<p>资源记录定义的格式</p>
</blockquote>
<p><img src="/Image%5CDNS3-Chinese%5C20241017131748160.png" alt="image-20220105150512873"></p>
<p>当我们查询域名<a href="http://www.baidu.xn--com%2C:-fi1h1h17f47b56ibnye5pqyan70bjkh87b1vhgrc6m70ck27ftt0bha8512cga0376fndbm5v/">www.baidu.com的时候，查询结果得到的资源记录结构体中有如下数据：</a></p>
<p>TTL：生存周期，是递归服务器会在缓存中保存该资源记录的时长，即客户端的到解析结果的缓存时长，可从全局继承</p>
<p>网络&#x2F;协议类型：它的代表的标识是IN，IN就是internet，目前DNS系统主要支持的协议是IN</p>
<p>type：就是资源记录类型，一般的网站都是都是A记录（IPv4的主机地址）</p>
<p>rdata：是资源记录数据，就是域名关联的信息数据</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/03/DHCP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kilig.gif">
      <meta itemprop="name" content="kiligwh">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kilig's Blog">
      <meta itemprop="description" content="欢迎">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | kilig's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/03/DHCP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">DHCP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-03 14:31:58" itemprop="dateCreated datePublished" datetime="2023-01-03T14:31:58+08:00">2023-01-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="DHCP协议"><a href="#DHCP协议" class="headerlink" title="DHCP协议"></a>DHCP协议</h1><hr>
<h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><blockquote>
<p>减少错误</p>
</blockquote>
<p>通过配置DHCP，把手工配置IP地址所导致的错误减少到最低程度，例如已分配的IP地址再次分配给另一设备所造成的地址冲突等将大大减少</p>
<blockquote>
<p>减少网络管理</p>
</blockquote>
<p>1、TCP&#x2F;IP配置是集中化和自动完成的，不需要网络管理员手工配置。网络管理员能集中定义全局和特定子网的TCP&#x2F;IP配置信息</p>
<p>2、使用DHCP选项可以自动给客户机分配全部范围的附加TCP&#x2F;IP配置值。客户机配置的地址变化必须经常更新，比如远程访问客户机经常到处移动，这样便于它在新的地点重新启动时，高效而又自动地进行配置</p>
<p>3、同时大部分路由器能转发DHCP配置请求，这就减少了在每个子网设置DHCP服务器的必要，除非有其它原因要这样做</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）</p>
<p>通常被应用在大型的局域网络环境中，主要作用是集中的管理、分配IP地址，使网络环境中的主机动态的获得IP地址、Gateway地址、DNS服务器地址等信息，并能够提升地址的使用率</p>
<blockquote>
<p>端口</p>
</blockquote>
<p>DHCP是Bootstrap协议的一种扩展,基于UDP协议,客户端的端口号是68,服务端的端口号是67</p>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174336.png" alt="image-20220105152732726"></p>
<blockquote>
<p>协议特性</p>
</blockquote>
<p>1、保证任何IP地址在同一时刻只能由一台DHCP客户机所使用</p>
<p>2、DHCP应当可以给用户分配永久固定的IP地址</p>
<p>3、DHCP应当可以同用其他方法获得IP地址的主机共存(如手工配置IP地址的主机)</p>
<p>4、DHCP服务器应当向现有的DHCP客户端提供服务</p>
<blockquote>
<p>DHCP数据包结构</p>
</blockquote>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174350.png" alt="image-20220105152939855"></p>
<blockquote>
<p>常用的option</p>
</blockquote>
<p>1 netmask<br>3 router<br>6 DNS<br>12 host name<br>51 ip address lease time<br>53 message type （dhcp报文8种类型，下一页介绍）<br>54 server identification<br>55 parameter request list （需要服务器给你提供哪些东西：ip地址，域名，网关）<br>61 client identification<br>82 relay agent<br>255 end</p>
<blockquote>
<p>DHCP报文8种类型</p>
</blockquote>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174468.png" alt="image-20220105153210387"></p>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><p>DHCP 是一种动态的向Internet终端提供配置参数的协议。在终端提出申请之后，</p>
<p>DHCP服务端可以向终端提供IP地址、网关、DNS服务器地址等参数</p>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174476.png" alt="image-20220105153251866"></p>
<h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>1、客户机在本网段内广播DHCPDISCOVER报文已发现网络中的DHCP服务器</p>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174482.png" alt="image-20220105153411487"></p>
<p>2、服务器向客户机回应请求,并给出一个可用的IP地址。但在给出此地之前，应当用ICMP ECHO REQUEST报文进行检查，检查是否有其他机器配置此IP地址</p>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174486.png" alt="image-20220105153437389"></p>
<p>3、如果收到多个DHCPOFFER报文,DHCP客户机会根据报文的内容从其中选择一个给与响应。如果客户机之前曾经获得过一个IP地址，它会将此地址写在DHCPREQUEST报文的OPTIONS域的“REQUESTD IP ADDRESS”中发给服务器</p>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174490.png" alt="image-20220105153505641"></p>
<p>4、当收到DHCPREQUEST报文后,服务器将客户机的网络的(网络地址,硬件地址)同分配的IP地址绑定,在将IP地址发送给客户机</p>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174594.png" alt="image-20220105153531714"></p>
<p>5、当收到DHCPREQUEST报文后,如果发现其申请的地址无法被分配,则用DHCPNAK报文回应</p>
<p><img src="/Image%5CDHCP2-Chinese%5C2024101713174598.png" alt="image-20220105153556724"></p>
<p>6、客户机收到DHCPACK报文后,再对所有的参数进行一次最后的检查,如果发现由地址冲突存在,则使用DHCPDECLINE报文回复服务器</p>
<p><img src="/Image%5CDHCP2-Chinese%5C20241017131745102.png" alt="image-20220105153616574"></p>
<p>7、如果客户机放弃现在使用的IP地址,则她使用DHCPRELEASE报文通知服务器,服务器将此地址回收以备下次使用</p>
<p><img src="/Image%5CDHCP2-Chinese%5C20241017131745106.png" alt="image-20220105153632806"></p>
<h2 id="DHCP中继"><a href="#DHCP中继" class="headerlink" title="DHCP中继"></a>DHCP中继</h2><p>考虑到成本,无需每个子网都配备一台DHCP服务器,所以DHCP协议应当可以通过路由器或者BOOTP代理透传（DHCP中继）</p>
<p><img src="/Image%5CDHCP2-Chinese%5C20241017131746112.png" alt="image-20220105153744995"></p>
<p>由于DHCP请求报文采用广播方式发送报文，因此当DHCP客户端和DHCP服务器处于不同子网时，必须要通过DHCP中继进行通信，最终获取到IP地址</p>
<p>多个网络上的DHCP客户端可以使用同一个DHCP服务器，既节省了成本，又便于进行集中管理</p>
<p><img src="/Image%5CDHCP2-Chinese%5C20241017131746118.png" alt="image-20220105153815876"></p>
<h2 id="DHCP-Snooping"><a href="#DHCP-Snooping" class="headerlink" title="DHCP Snooping"></a>DHCP Snooping</h2><blockquote>
<p>概述</p>
</blockquote>
<p>DHCP Snooping是 DHCP 的一种安全特性，主要应用在 交换机 上，作用是屏蔽接入网络中的非法的 DHCP 服务器。即开启 DHCP Snooping 功能后，网络中的客户端只有从管理员指定的 DHCP 服务器获取 IP 地址</p>
<blockquote>
<p>攻击方式</p>
</blockquote>
<p>DHCP在设计上未从分考虑安全因素，从而留下了许多安全漏洞，使得DHCP很容易受到攻击。实际网络中，针对DHCP的攻击行为主要有以下三种：</p>
<ul>
<li>DHCP饿死攻击</li>
<li>仿冒DHCP Server攻击</li>
<li>DHCP中间人攻击</li>
</ul>
<h2 id="DHCP饿死攻击"><a href="#DHCP饿死攻击" class="headerlink" title="DHCP饿死攻击"></a>DHCP饿死攻击</h2><blockquote>
<p>攻击原理</p>
</blockquote>
<p>攻击者持续大量的向DHCP Server申请地址，直到耗尽DHCP Server地址池中的IP地址，导致DHCP Server不能给正常的用户进行分配</p>
<blockquote>
<p>解决方法</p>
</blockquote>
<p>通过校验CHADDR与MAC值</p>
<blockquote>
<p>示例图</p>
</blockquote>
<p><img src="/Image%5CDHCP2-Chinese%5C20241017131746146.png" alt="image-20220105154109659"></p>
<h2 id="仿冒DHCP-Server攻击"><a href="#仿冒DHCP-Server攻击" class="headerlink" title="仿冒DHCP Server攻击"></a>仿冒DHCP Server攻击</h2><blockquote>
<p>攻击原理</p>
</blockquote>
<p>攻击者仿冒DHCP Server，向客户端分配错误的IP地址及提供错误的网关地址等，导致客户端无法正常访问网络</p>
<blockquote>
<p>解决方法</p>
</blockquote>
<p>通过配置trust与untrust口区分转发</p>
<blockquote>
<p>示例图</p>
</blockquote>
<p><img src="/Image%5CDHCP2-Chinese%5C20241017131746160.png" alt="image-20220105154223600"></p>
<h2 id="中间人攻击"><a href="#中间人攻击" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><blockquote>
<p>攻击原理</p>
</blockquote>
<p>攻击者利用ARP机制，让PC-A学习到IP-S与MAC-B的映射关系，又让Server学习到IP-A与MAC-B的映射关系。如此一来，PC-A与Server之间交付的IP报文都会经过攻击者中转</p>
<blockquote>
<p>解决方法</p>
</blockquote>
<p>开启ARP检测</p>
<blockquote>
<p>示例图</p>
</blockquote>
<p><img src="/Image%5CDHCP2-Chinese%5C20241017131746174.png" alt="image-20220105154317251"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kiligwh</span>
</div>

<!-- 删除 “由 Hexo & NexT.Gemini 强力驱动” -->
<!--
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div> -->

<!-- <br /> -->
<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<!-- <span id="times">载入时分秒...</span> -->
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("11/17/2022 8:00:00");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); 
        if(String(snum).length ==1 ){snum = "0" + snum;}
        // var times = document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "+hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>

    </div>
  </footer>

  

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  



  <script src="/js/third-party/pace.js"></script>

  





  
  
  <script type="text/javascript"
	count="150"
	opacity: 1
	src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
  </script>
  

</body>
</html>
